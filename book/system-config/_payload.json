[{"data":1,"prerenderedAt":217},["Reactive",2],{"content-query-We1OsS6S6P":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":7,"director":9,"time":10,"img":11,"plan":12,"body":13,"_type":212,"_id":213,"_source":214,"_file":215,"_extension":216},"/book/system-config","book",false,"","System config","MY","2025","17/1.png","100,100",{"type":14,"children":15,"toc":209},"root",[16],{"type":17,"tag":18,"props":19,"children":24},"element","book-content",{":by":20,":img":21,":plan":22,":title":23},"director","img","plan","title",[25,30,38,73,83,85,184],{"type":17,"tag":26,"props":27,"children":29},"text-title",{"t":28},"Nix",[],{"type":17,"tag":31,"props":32,"children":34},"h1",{"id":33},"为什么用-nix-2",[35],{"type":36,"value":37},"text","为什么用 Nix? 2",{"type":17,"tag":39,"props":40,"children":41},"p",{},[42,44,53,55,62,64,71],{"type":36,"value":43},"也是视奸 群u萌 看到的，了解了下发现是 2003 年就开始发布了，至今已经 22 年了。（第一印象还以为是一个发行版，确实有，",{"type":17,"tag":45,"props":46,"children":50},"a",{"href":47,"rel":48},"https://nixos.org/",[49],"nofollow",[51],{"type":36,"value":52},"NixOS",{"type":36,"value":54},"）。再看看自己的系统环境确实有点乱，于是就有了重装系统的念头。新的系统毫不犹豫就用上了 Nix，不过我用的是 ",{"type":17,"tag":45,"props":56,"children":59},{"href":57,"rel":58},"https://github.com/DeterminateSystems/nix-installer",[49],[60],{"type":36,"value":61},"DeterminateSystems",{"type":36,"value":63}," 家的（好像是对 macOS 有优化？）个人感觉 Nix 貌似还挺成熟了，我看很多 community contributor 都是 ",{"type":17,"tag":45,"props":65,"children":68},{"href":66,"rel":67},"https://www.tweag.io/",[49],[69],{"type":36,"value":70},"tweag",{"type":36,"value":72}," 的员工？",{"type":17,"tag":74,"props":75,"children":77},"text-space",{"type":76},"tip",[78],{"type":17,"tag":39,"props":79,"children":80},{},[81],{"type":36,"value":82},"记录一些自己常用的（用的时候可以翻翻",{"type":36,"value":84},"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",{"type":17,"tag":86,"props":87,"children":88},"table",{},[89,113],{"type":17,"tag":90,"props":91,"children":92},"thead",{},[93],{"type":17,"tag":94,"props":95,"children":96},"tr",{},[97,103,108],{"type":17,"tag":98,"props":99,"children":100},"th",{},[101],{"type":36,"value":102},"command",{"type":17,"tag":98,"props":104,"children":105},{},[106],{"type":36,"value":107},"info",{"type":17,"tag":98,"props":109,"children":110},{},[111],{"type":36,"value":112},"e.g",{"type":17,"tag":114,"props":115,"children":116},"tbody",{},[117,142],{"type":17,"tag":94,"props":118,"children":119},{},[120,126,137],{"type":17,"tag":121,"props":122,"children":123},"td",{},[124],{"type":36,"value":125},"nix-shell",{"type":17,"tag":121,"props":127,"children":128},{},[129,131],{"type":36,"value":130},"创建一个隔离环境 或是 ",{"type":17,"tag":132,"props":133,"children":134},"strong",{},[135],{"type":36,"value":136},"以使用声明式配置文件创建可重现的 shell 环境",{"type":17,"tag":121,"props":138,"children":139},{},[140],{"type":36,"value":141},"nix-shell -p nodejs --run 'node -v'",{"type":17,"tag":94,"props":143,"children":144},{},[145,150,163],{"type":17,"tag":121,"props":146,"children":147},{},[148],{"type":36,"value":149},"nix-collect-garbage -d",{"type":17,"tag":121,"props":151,"children":152},{},[153,155,161],{"type":36,"value":154},"快速清理环境(但下次再进到 ",{"type":17,"tag":156,"props":157,"children":159},"code",{"className":158},[],[160],{"type":36,"value":125},{"type":36,"value":162}," 环境下载有点慢)",{"type":17,"tag":121,"props":164,"children":165},{},[166,168,174,176,182],{"type":36,"value":167},"有点像是 ",{"type":17,"tag":156,"props":169,"children":171},{"className":170},[],[172],{"type":36,"value":173},"nix-env",{"type":36,"value":175}," & ",{"type":17,"tag":156,"props":177,"children":179},{"className":178},[],[180],{"type":36,"value":181},"nix-store",{"type":36,"value":183}," 的结合体哈哈好爽。",{"type":17,"tag":39,"props":185,"children":186},{},[187,189,194,196,201,203],{"type":36,"value":188},"不过对我来说 ",{"type":17,"tag":156,"props":190,"children":192},{"className":191},[],[193],{"type":36,"value":125},{"type":36,"value":195}," 貌似就很满足我的需求了。剩下的 ",{"type":17,"tag":156,"props":197,"children":199},{"className":198},[],[200],{"type":36,"value":173},{"type":36,"value":202},"（升级/卸载）只是 ​​在借阅记录（profile generation）中划掉某本书的名字​​，但书（包）仍然放在书架上 ",{"type":17,"tag":156,"props":204,"children":206},{"className":205},[],[207],{"type":36,"value":208},"（/nix/store）",{"title":7,"searchDepth":210,"depth":210,"links":211},2,[],"markdown","content:book:system-config.md","content","book/system-config.md","md",1753639287390]