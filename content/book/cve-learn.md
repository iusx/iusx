---
"title": "CVE learn"
"director": "My"
"time": "2025"
img: "14/1.png"
plan: "100,100"
---

::book-content{:title="title" :img="img" :by="director" :plan="plan"}

:text-title{:t="CVE is my dream."}
早在我上小学时，就觉得 CVE 很帅。步入初中时，在初三那年我拿到了广东电信 IPTV 的通用漏洞。步入社会时，我拿到了 Github 的 Bug bounty。但我始终没有去拿一个 CVE 的编号。因为水是可以水的，但我已经水了 CNVD 和 Hackerone，我希望我的第一个 CVE 编号可以是不那么水的，有一点含金量的。

虽然我并不是 Security 行业或领域的从业人员，只是一个爱好者。但我一直觉得 Security 很帅。同样的，虽然我不是 Design 行业的从业人员，但我觉得可以让自己做出来的 project 会好看，有个性。

我并不是一个专精的人。很多时候我每项感兴趣的领域单拎出来都会被降维打击。虽然我单项领域无法媲美专业的从业者，但我感兴趣的领域都有点建树和作品。将 Security、Design、Animation、Computer 合在一起，与之能媲美的人可能会少那么一点。

而现在，我只有 Design 的代表作，而 Security、Animation、Computer 还没有一个能拿得出手的作品。因此我希望会在未来三年，尽可能的补全这些我感兴趣领域的代表作。可能因为 Work 比较闲的缘故，我的时间总会多那么一点来放到我感兴趣的领域上。即使达不到也没有关系，至少也是努力过了，无论如何三年后的自己总会比现在的自己稍微厉害那么一点点。

因此这个页面会记录一些我感兴趣的 CVE 和 CWE 的编号来让我学习，可能会获取到一些新的思路和对某个方面的理解。来帮助我实现这个目标，顺便看看冷门的 CWE 方向，毕竟 OWASP TOP 10 个人没有太大的兴趣。


---

# CVE-2022-36114 1
::cve-info{to="https://nvd.nist.gov/vuln/detail/CVE-2022-36114"}
---
cve: CVE-2022-36114
cwe: 400
type: 2
---

不受控制的资源消耗
::

利用 Cargo 的 [build script](https://doc.rust-lang.org/cargo/reference/build-scripts.html) 在构建阶段编译第三方的非 Rust code，同时结合 [procedural macros](https://doc.rust-lang.org/book/ch20-05-macros.html#how-to-write-a-custom-derive-macro)，在执行 `cargo run` 的过程中触发了一个 [Zip Bomb](https://en.wikipedia.org/wiki/Zip_bomb) 行为。

对于这个问题的修复，rust-lang 已经给出了一个 [补丁修复](https://github.com/rust-lang/wg-security-response/blob/4bbe734e6404ece6f4e85027564f8995d4ab70e0/patches/CVE-2022-36114/0001-CVE-2022-36114-limit-the-maximum-unpacked-size-of-a-.patch) Zip_bomb 的问题:

```c
// 在解压 .crate 文件（tar.gz）时，限制最多只能解压出 512MB 的内容。
+const MAX_UNPACK_SIZE: u64 = 512 * 1024 * 1024;
```

同时引入了 `LimitErrorReader`: 超过就抛出错误，避免资源被耗尽（比如磁盘写爆）。除此之外并没有对 macros、build 加以限制，只是建议尽可能的在 [crates](https://crates.io/) 上提交的 crate。
::
