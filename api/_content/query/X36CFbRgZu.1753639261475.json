{"_path":"/book/system-config","_dir":"book","_draft":false,"_partial":false,"_locale":"","title":"System config","description":"","director":"MY","time":"2025","img":"17/1.png","plan":"100,100","body":{"type":"root","children":[{"type":"element","tag":"book-content","props":{":by":"director",":img":"img",":plan":"plan",":title":"title"},"children":[{"type":"element","tag":"text-title","props":{"t":"Nix"},"children":[]},{"type":"element","tag":"h1","props":{"id":"为什么用-nix-2"},"children":[{"type":"text","value":"为什么用 Nix? 2"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"也是视奸 群u萌 看到的，了解了下发现是 2003 年就开始发布了，至今已经 22 年了。（第一印象还以为是一个发行版，确实有，"},{"type":"element","tag":"a","props":{"href":"https://nixos.org/","rel":["nofollow"]},"children":[{"type":"text","value":"NixOS"}]},{"type":"text","value":"）。再看看自己的系统环境确实有点乱，于是就有了重装系统的念头。新的系统毫不犹豫就用上了 Nix，不过我用的是 "},{"type":"element","tag":"a","props":{"href":"https://github.com/DeterminateSystems/nix-installer","rel":["nofollow"]},"children":[{"type":"text","value":"DeterminateSystems"}]},{"type":"text","value":" 家的（好像是对 macOS 有优化？）个人感觉 Nix 貌似还挺成熟了，我看很多 community contributor 都是 "},{"type":"element","tag":"a","props":{"href":"https://www.tweag.io/","rel":["nofollow"]},"children":[{"type":"text","value":"tweag"}]},{"type":"text","value":" 的员工？"}]},{"type":"element","tag":"text-space","props":{"type":"tip"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"记录一些自己常用的（用的时候可以翻翻"}]}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"command"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"info"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"e.g"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"nix-shell"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"创建一个隔离环境 或是 "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"以使用声明式配置文件创建可重现的 shell 环境"}]}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"nix-shell -p nodejs --run 'node -v'"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"nix-collect-garbage -d"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"快速清理环境(但下次再进到 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nix-shell"}]},{"type":"text","value":" 环境下载有点慢)"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"有点像是 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nix-env"}]},{"type":"text","value":" & "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nix-store"}]},{"type":"text","value":" 的结合体哈哈好爽。"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不过对我来说 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nix-shell"}]},{"type":"text","value":" 貌似就很满足我的需求了。剩下的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nix-env"}]},{"type":"text","value":"（升级/卸载）只是 ​​在借阅记录（profile generation）中划掉某本书的名字​​，但书（包）仍然放在书架上 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"（/nix/store）"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:book:system-config.md","_source":"content","_file":"book/system-config.md","_extension":"md"}