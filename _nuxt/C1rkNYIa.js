import{a as r,N as m,A as i,O as u,a1 as v,z as d}from"./lV9Qbl4Y.js";const p={class:"main"},h=u("p",null,"Mp4 test 4",-1),k={__name:"mp4",setup(_){const a=r(null),n=r(!1),c=()=>{const t=document.createElement("canvas"),s=t.getContext("2d"),e=document.createElement("video");e.src="/test/test.mp4",e.muted=!0,e.loop=!0,e.playsInline=!0,e.addEventListener("loadedmetadata",()=>{t.width=a.value.clientWidth,t.height=a.value.clientHeight,a.value.innerHTML="",a.value.appendChild(t),l()}),e.play().catch(o=>{alert("NO:",o),n.value=!0});function l(){if(!(!s||e.paused||e.ended))try{s.drawImage(e,0,0,t.width,t.height),requestAnimationFrame(l)}catch(o){alert("no",o),n.value=!0}}};return m(()=>{a.value&&c()}),(t,s)=>(d(),i("div",p,[h,u("div",{class:"test",ref_key:"videoCanvas",ref:a},null,512),n.value?(d(),i("button",{key:0,onClick:c},"click")):v("",!0)]))}};export{k as default};
