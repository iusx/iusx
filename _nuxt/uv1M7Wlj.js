import v from"./K1PhrLO4.js";import{_ as y,a as P}from"./C25eHo_W.js";import{k as h,a as k,N as S,z as i,A as a,O as o,H as e,u as c,P as f,a3 as N,F as C,Z as x,_ as I}from"./Dh2Oq3Os.js";const u=n=>(x("data-v-9c8c63c3"),n=n(),I(),n),w={class:"layout"},B={class:"book-info pc"},O={class:"book-info-home-img"},V={key:0,class:"no-img"},E=["src"],F={class:"book-info-author"},M={class:"title"},W={class:"dir-layout"},$=u(()=>o("p",{class:"title"},"directory",-1)),q=u(()=>o("div",{class:"more"},"MORE",-1)),z=[q],A={key:0,class:"book-info book-table"},D={class:"book-info-home-img"},H={key:0,class:"no-img",style:{width:"50% !important"}},L=["src"],R={class:"book-info-author"},T={class:"title"},Z={class:"dir-layout"},j=u(()=>o("p",{class:"title"},"directory",-1)),G={class:"main-con"},J={class:"text markdown-content"},K={__name:"bookContent",props:{title:{type:String,required:!0},img:{type:String},by:{type:String},plan:{type:String}},setup(n){P();const s=n,r=h(()=>{const t=s.title.indexOf(":");return t!==-1?{firstPart:s.title.substring(0,t+1).trim(),secondPart:s.title.substring(t+2).trim()}:{firstPart:s.title,secondPart:""}}),d=k(!1),g=()=>{d.value=!0},b=()=>{d.value=!1},_=k(!0);S(()=>{const t=new Image;t.src="/img/book/"+s.img,t.onload=()=>{_.value=!1},t.onerror=()=>{console.error(`Failed to load image ${t.src}`)}});const m=h(()=>{const[t,l]=s.plan.split(",").map(Number);return isNaN(t)||isNaN(l)||l===0?s.plan:(t/l*100).toFixed(0)});return(t,l)=>{const p=v;return i(),a("main",w,[o("div",B,[o("div",O,[_.value?(i(),a("div",V)):(i(),a("img",{key:1,src:"/img/book/"+s.img,alt:"book-home"},null,8,E)),o("div",F,[o("p",null,"By "+e(n.by),1),o("span",null,"be reading "+e(c(m))+"%",1)])]),o("div",M,[o("p",null,e(c(r).firstPart),1),o("span",null,e(c(r).secondPart),1)]),o("div",W,[$,f(p)])]),o("div",{class:"an",onClick:g},z),d.value?(i(),a("div",A,[o("p",{style:{cursor:"pointer"},class:"pop-close",onClick:b}," CLOSE "),o("div",D,[_.value?(i(),a("div",H)):(i(),a("img",{key:1,src:"/img/book/"+s.img,alt:"book-home"},null,8,L)),o("div",R,[o("p",null,"By "+e(n.by),1),o("span",null,"be reading "+e(c(m))+"%",1)])]),o("div",T,[o("p",null,e(c(r).firstPart),1),o("span",null,e(c(r).secondPart),1)]),o("div",Z,[j,f(p)])])):N("",!0),o("div",G,[o("div",J,[C(t.$slots,"default",{},void 0,!0)])])])}}},Y=y(K,[["__scopeId","data-v-9c8c63c3"]]);export{Y as default};
