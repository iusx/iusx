import{_ as D}from"./CChhjZx2.js";import{_ as y,a as x}from"./Ccqg-lRA.js";import{a as p,N as w,u as B,z as i,A as d,X as f,B as g,P as k,R as h,O as e,H as b,Y as v,C,Z as I,_ as $,y as S,k as A}from"./xdD9q-ho.js";import{u as q,q as z}from"./B4S8lKln.js";import{u as M}from"./O-jrjFjc.js";import"./BE0bJgpR.js";const u=o=>(I("data-v-c73b193c"),o=o(),$(),o),N={class:"note-book-box-desc"},E=u(()=>e("span",null,"in reading",-1)),F=u(()=>e("div",{class:"note-book-state"},null,-1)),H={class:"note-book-box-desc"},L=u(()=>e("span",null,"in reading",-1)),P=u(()=>e("div",{class:"note-book-state"},null,-1)),R={__name:"skBookImg",props:{sortedData:{type:Array,default:()=>[]}},setup(o){x();const a=o;a.sortedData.length>0&&a.sortedData[0].img;const r=p([]),c=p(!0),_=p(0);return w(()=>{a.sortedData.forEach(l=>{const s=`/img/book/${l.img}`;r.value.push(s);const t=new Image;t.src=s,t.onload=()=>{_.value++,_.value===r.value.length&&(c.value=!1)},t.onerror=()=>{console.error(`Failed to load image ${s}`)}})}),(l,s)=>{const t=D;return B(c)?(i(!0),d(v,{key:0},f(o.sortedData,(n,m)=>(i(),d("div",{class:g(["note-book-box-no",{"scale-effect":m%3!==1}])},[k(t,{to:n._path},{default:h(()=>[e("div",N,[E,e("p",null,b(n.title),1)]),F]),_:2},1032,["to"])],2))),256)):(i(!0),d(v,{key:1},f(o.sortedData,(n,m)=>(i(),d("div",{class:g(["note-book-box",{"scale-effect":m%3!==1}]),style:C({"background-image":`url('/img/book/${n.img}')`,"background-repeat":"no-repeat"})},[k(t,{to:n._path},{default:h(()=>[e("div",H,[L,e("p",null,b(n.title),1)]),P]),_:2},1032,["to"])],6))),256))}}},T=y(R,[["__scopeId","data-v-c73b193c"]]),V={class:"note-layout"},G={class:"note-book"},O={__name:"book",async setup(o){let a,r;const{data:c}=([a,r]=S(()=>q("equalBook",()=>z("book/").find())),a=await a,r(),a);x(),M({title:"Bookshelf",description:"Github + Hackerone + Behance รท Researchgate"}),c.value&&c.value.sort((l,s)=>{const t=new Date(l.time).getTime();return new Date(s.time).getTime()-t});const _=A(()=>c.value);return(l,s)=>{const t=T;return i(),d("main",null,[e("div",V,[e("div",G,[k(t,{"sorted-data":B(_)},null,8,["sorted-data"])])])])}}},K=y(O,[["__scopeId","data-v-53c1f9cd"]]);export{K as default};
