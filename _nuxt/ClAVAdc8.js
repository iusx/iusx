import v from"./m6uVv0PS.js";import{_ as y,a as P}from"./CTXfHkz4.js";import{k as h,a as g,O as S,A as i,B as a,P as o,I as e,u as c,Q as k,$ as C,G as N,Z as x,a0 as I,a1 as B}from"./BSTJsFqN.js";const d=n=>(I("data-v-2408119c"),n=n(),B(),n),w=d(()=>o("div",{class:"progress"},null,-1)),O={class:"layout"},V={class:"book-info pc"},E={class:"book-info-home-img"},F={key:0,class:"no-img"},M=["src"],W={class:"book-info-author"},$={class:"title"},q={class:"dir-layout"},A=d(()=>o("p",{class:"title"},"directory",-1)),D=d(()=>o("div",{class:"more"},"MORE",-1)),G=[D],L={key:0,class:"book-info book-table"},Q={class:"book-info-home-img"},R={key:0,class:"no-img",style:{width:"50% !important"}},T=["src"],Z={class:"book-info-author"},j={class:"title"},z={class:"dir-layout"},H=d(()=>o("p",{class:"title"},"directory",-1)),J={class:"main-con"},K={class:"text markdown-content"},U={__name:"bookContent",props:{title:{type:String,required:!0},img:{type:String},by:{type:String},plan:{type:String}},setup(n){P();const s=n,r=h(()=>{const t=s.title.indexOf(":");return t!==-1?{firstPart:s.title.substring(0,t+1).trim(),secondPart:s.title.substring(t+2).trim()}:{firstPart:s.title,secondPart:""}}),_=g(!1),f=()=>{_.value=!0},b=()=>{_.value=!1},p=g(!0);S(()=>{const t=new Image;t.src="/img/book/"+s.img,t.onload=()=>{p.value=!1},t.onerror=()=>{console.error(`Failed to load image ${t.src}`)}});const m=h(()=>{const[t,l]=s.plan.split(",").map(Number);return isNaN(t)||isNaN(l)||l===0?s.plan:(t/l*100).toFixed(0)});return(t,l)=>{const u=v;return i(),a(x,null,[w,o("main",O,[o("div",V,[o("div",E,[p.value?(i(),a("div",F)):(i(),a("img",{key:1,src:"/img/book/"+s.img,alt:"book-home"},null,8,M)),o("div",W,[o("p",null,"By "+e(n.by),1),o("span",null,"be reading "+e(c(m))+"%",1)])]),o("div",$,[o("p",null,e(c(r).firstPart),1),o("span",null,e(c(r).secondPart),1)]),o("div",q,[A,k(u)])]),o("div",{class:"an",onClick:f},G),_.value?(i(),a("div",L,[o("p",{style:{cursor:"pointer"},class:"pop-close",onClick:b}," CLOSE "),o("div",Q,[p.value?(i(),a("div",R)):(i(),a("img",{key:1,src:"/img/book/"+s.img,alt:"book-home"},null,8,T)),o("div",Z,[o("p",null,"By "+e(n.by),1),o("span",null,"be reading "+e(c(m))+"%",1)])]),o("div",j,[o("p",null,e(c(r).firstPart),1),o("span",null,e(c(r).secondPart),1)]),o("div",z,[H,k(u)])])):C("",!0),o("div",J,[o("div",K,[N(t.$slots,"default",{},void 0,!0)])])])],64)}}},to=y(U,[["__scopeId","data-v-2408119c"]]);export{to as default};
